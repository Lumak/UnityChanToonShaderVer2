<html>
<head>
  <title>UnityChanToonShaderVer2_Manual_ja</title>
  <basefont face="メイリオ" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (ja-JP, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: メイリオ;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="70682"/>

<div>
<span><div><span style="font-size: 48px; font-weight: bold;">ユニティちゃんトゥーンシェーダーVer.2.0 マニュアル</span></div><div><br/></div><div style="text-align: right;"><span style="font-size: 16px; font-weight: bold;">2017/06/25 Nobuyuki Kobayashi (Unity Technologies Japan)</span></div><div><br/></div><div><br/></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/LookSample.jpg" type="image/png" style="height: auto;"/><br/></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/CRS01.jpg" type="image/png" style="height: auto;"/><br/></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/CRS02.jpg" type="image/png" style="height: auto;"/><br/></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/CRS03.jpg" type="image/png" style="height: auto;"/><br/></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/HiUni01.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><br/></div><div><span style="font-weight: bold; font-size: 24px;">【ユニティちゃんトゥーンシェーダーとは？】</span></div><div><span style="font-size: 16px;">「ユニティちゃんトゥーンシェーダー」は、セル風3DCGアニメーションの制作現場での要望に応えるような形で設計された、映像志向のトゥーンシェーダーです。</span></div><div><span style="font-size: 16px;">セル風</span><span style="font-size: 16px;">3DCGアニメーションの制作現場向けの設計になっていますので、いわゆる「影」は色設計担当者が作成しやすいような「影色設定」を使う方式であり、かつ各パーツの形状（フォルム）を強調する「影」や、キャラクターのデザイン上、光源の位置や強さとは関係なく、必ず必要となる「影」が出しやすいように設計されています。</span></div><div><br/></div><div><span style="font-size: 16px;">ユニティちゃんトゥーンシェーダーVer.2.0では、従来の機能に加えて大幅な機能強化を行いました。</span></div><div><span style="font-size: 16px;">Ver.1.0でできる絵づくりをカバーしつつ、さらに高度なルックが実現できるようになっています。</span></div><div><br/></div><div><span style="font-size: 24px; font-weight: bold;">【開発環境】</span></div><div><span style="font-size: 16px;">ユニティちゃんトゥーンシェーダーVer.2.0は、Unity5.5.3+ShaderForge v1.36ベースで開発されています。</span></div><div><span style="font-size: 16px;">ShaderForgeのみでは開発できない部分は、コードをカスタマイズしてあります。</span></div><div><span style="font-size: 16px;">提供されているshaderファイルはカスタマイズ済みのコードですので、ShaderForgeで直接開くことはできません。ご注意ください。</span></div><div><br/></div><div><span style="font-weight: bold; font-size: 24px;">【ターゲット環境】</span></div><div><span style="font-size: 24px; font-weight: bold; color: rgb(255, 70, 53);">[New! / 2.0.2]</span> <span style="font-weight: bold; font-size: 24px;">Unity5.6.x もしくはそれ以降が必要です。</span></div><div><span style="font-size: 16px;">Forwardレンダリング環境。</span><span style="font-size: 16px;">リニアカラースペースでの使用を推奨します。</span></div><div><span style="font-size: 16px;">（ガンマカラースペースでも使用できますが、ガンマカラーの特性上、陰影の階調変化が強めに出る傾向があります）</span></div><div><br/></div><div><span style="font-weight: bold; color: rgb(255, 0, 0); font-size: 16px;">※Nintendo Switchに対応した結果、Unity5.5.xで利用する場合、シェーダーにエラー表示が出ますが、動作上は問題はありません。</span></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/0609-04_10.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 24px; font-weight: bold;">【シェーダーの特徴】</span></div><div><span style="font-size: 16px;">ユニティちゃんトゥーンシェーダーは以下のような特徴をもっています。</span></div><ul><li><span style="font-size: 16px;">アウトラインの入り抜き調整は、テクスチャで指定可能</span></li><li><span style="font-size: 16px;">必ず影にしたい場所をテクスチャで指定可能</span></li><li><span style="font-size: 16px;">ノーマル色と影色の混合部のぼけ足を調整可能</span></li><li><span style="font-size: 16px;">ライトの位置を変えずに影色の支配域を変更可能</span></li></ul><div><img src="UnityChanToonShaderVer2_Manual_ja_files/0713-06_01.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><span style="font-size: 24px; font-weight: bold;">ユニティちゃんトゥーンシェーダーVer2.0</span><span style="font-size: 24px;">では、</span></div><div><span style="font-size: 24px;">上に加えてさらに以下のような仕様に対応しました。</span></div><div><br/></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/1230-11_14.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><ul><li><span style="font-size: 16px;">Unityのシステムシャドウに対応しました。レシーブシャドウ、キャストシャドウが利用できます。</span><br/><span style="font-size: 16px;">（そのため、ユニティちゃんトゥーンシェーダーで利用していた、Mesh_Shadowsグループは不要になりました）</span></li><li><span style="font-size: 16px;">Forwardレンダリングの可能範囲内で、複数のライトカラーに対応しました。</span><br/><span style="font-size: 16px;">メインとしてルックを設定するために使われるディレクショナルライトの他、リアルタイムのポイントライト等にも対応しています。</span></li><li><span style="font-size: 16px;">通常色（明色）/１影/２影＋ハイカラー指定、及び</span><span style="font-size: 16px;">通常色（明色）/１影の間、</span><br/><span style="font-size: 16px;">１影/２影 の間の境界ぼかしができるようになった。</span><br/><span style="font-size: 16px;">そのおのおのに対し、ライティングと関係なく固定配置ができるポジションマップを持つことが可能です。</span></li><li><span style="font-size: 16px;">カメラからの距離に応じてアウトラインの幅が調整可能です。</span></li><li><span style="font-size: 16px;">MatCapに専用ノーマルマップを設定することで、スペキュラマスクとして指定できるようになった。</span></li><li><span style="font-size: 16px;">MatCapの調整機能を追加。</span></li><li><span style="font-size: 16px;">クリッピングマスクによるマテリアルの分割使用ができるようになった。</span></li><li><span style="font-size: 16px;">ステンシルマスクによる指定パーツの透過処理ができるようになった。</span></li><li><span style="font-size: 16px;">拡張として、Toon_ShadingGradeMap.shaderを追加しました。</span></li><li><span style="font-size: 16px;">Light ProbeやAmbient Source等のGIシステムに対応しました。</span></li><li><span style="font-size: 16px;">アウトラインオフセットに対応しました。</span></li><li><span style="font-size: 16px;">「天使の輪」機能を搭載しました。</span></li><li><span style="font-size: 16px;">各カラーごとにライトカラーを影響させるか制御できるようになりました。</span></li><li><span style="font-size: 16px;"><span style="color: rgb(255, 70, 53);">[New! / 2.0.1]</span>Tweak_SystemShadowsLevelスライダーを追加。本スライダーを使って、Unityのシステムシャドウ側のレベル補正をすることができます。</span></li><li><span style="font-size: 16px;"><span style="color: rgb(255, 70, 53);">[New! / 2.0.1]</span>RimLight_InsideMask、RimLight_FeatherOffを追加。リムライトの制御がさらに便利になりました。</span></li><li><span style="font-size: 16px;"><span style="color: rgb(255, 70, 53);">[New! / 2.0.2]</span>Nintendo Switch、Playstation 4に正式対応しました。</span></li><li><span style="font-size: 16px;"><span style="color: rgb(255, 70, 53);">[New! / 2.0.2]</span> LightDirection_MaskOn、Add_Antipodean_RimLight他、リムライトの機能をさらに強化しました</span></li><li><span style="font-size: 16px;"><span style="color: rgb(255, 70, 53);">[New! / 2.0.2]</span> 「天使の輪」機能にARSampler_AlphaOnを追加しました。</span></li><li><span style="font-size: 16px;"><span style="color: rgb(255, 70, 53);">[New! / 2.0.2]</span> モバイル向けに軽量版を添付しました。</span></li><li><span style="font-size: 16px;"><span style="color: rgb(255, 70, 53);">[New! / 2.0.2]</span> GIの合成方式をブレンド（Screen）に変更しました。</span></li><li><span style="font-weight: bold; font-size: 16px;"><span style="color: rgb(255, 70, 53);">[New! / 2.0.3]</span> ハイカラーマスク（Set_HighColorMask）、リムライトマスク（Set_RimLightMask）を搭載しました。<br/>
　　　　　　　　ハイカラーマスクの実装の結果、ハイカラーポジションが廃止されました。</span></li></ul><div><b><span style="font-size: 16px;"><span style="color: rgb(255, 70, 53);"><br/></span></span></b></div><div><b><span style="font-size: 16px;"><span style="color: rgb(255, 70, 53);"><br/></span></span></b></div><div><span style="font-size: 24px;"><b><span style="color: rgb(255, 0, 0);">New!</span>【iOS/OSX METALで使用する際の注意】</b></span></div><div><b><span style="font-size: 16px;">iOS/OSX METALで使用する場合、CullMode=OFF（両面表示）の時に、正しい表示が出来ない場合があります。</span></b></div><div><b><span style="font-size: 16px;">その場合、メッシュを両面に貼って、それぞれに</span><span style="font-size: 16px;">CullMode=Back（背面カリング）/</span></b><span style="font-size: 16px;"><b>CullMode=Front（正面カリング）のマテリアルを設定するようにしてください。</b></span></div><div><span style="font-size: 16px;"><b><span style="color: rgb(255, 70, 53);"><br/></span></b></span></div><div><b><span style="font-size: 16px;"><span style="color: rgb(255, 70, 53);"><br/></span></span></b></div><div><b><span style="font-size: 16px;"><span style="color: rgb(255, 70, 53);"><br/></span></span></b></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/1230-11_08.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 24px; font-weight: bold;">【サンプルシーン】</span></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/1230-12_01.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><span style="font-size: 24px; font-weight: bold;">【プロジェクトの初期設定】</span></div><div><span style="font-size: 16px;">File&gt;Build Settings&gt;Player Settings... より</span></div><div><span style="font-size: 16px;">Rendering Path⇒Forward</span></div><div><span style="font-size: 16px;">Color Space⇒Linearを推奨</span></div><div><br/></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/0801-12_07.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 24px; font-weight: bold;">【トゥーンシェーダーの各プロパティ解説】</span></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/UI_Toon_DoubleShadeWithFeather.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse;border:1px solid rgb(211,211,211);width:601px;" width="600"><tbody><tr style="height:14.25pt"><td height="19" style="height:14.25pt;width:39.267886855241265%;" width="238"><b>プロパティ名</b></td><td style="border-left:none;width:60.56572379367721%;" width="362"><b>機能</b></td></tr><tr style="height:28.5pt"><td height="38" style="height:28.5pt;border-top:none">Stencil No</td><td style="border-top:none;border-left:none;width:272pt" width="362">_StencilMask/_StencilOutシェーダーで使用します。<br/>
ステンシルリファレンスナンバーを指定します。</td></tr><tr style="height:42.75pt"><td height="57" style="height:42.75pt;border-top:none">CullMode</td><td style="border-top:none;border-left:none;width:272pt" width="362">カリングを指定します。 OFF（両面描画）/FRONT（正面カリング）/BACK（背面カリング）</td></tr><tr style="height:42.75pt"><td height="57" style="height:42.75pt;border-top:none">ClippingMask</td><td style="border-top:none;border-left:none;width:272pt" width="362">_Clippingシェーダーで使用します。クリッピングマスクを指定します。白が抜きになります。</td></tr><tr style="height:71.25pt"><td height="95" style="height:71.25pt;border-top:none">IsBaseMapAlphaAsClippingMask</td><td style="border-top:none;border-left:none;width:272pt" width="362">_TransClippingシェーダーのみのプロパティです。チェックすることで、BaseMapに含まれるαチャンネルをクリッピングマスクとして使用します。この場合、ClippingMaskには何も指定しなくてかまいません。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">Clipping Level</td><td style="border-top:none;border-left:none;width:272pt" width="362">クリッピングマスクの強さを指定します。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">Inverse_Clippmg</td><td style="border-top:none;border-left:none;width:272pt" width="362">クリッピングマスクを反転します。</td></tr><tr style="height:42.75pt"><td height="57" style="height:42.75pt;border-top:none">Tweak_transparency</td><td style="border-top:none;border-left:none;width:272pt" width="362">_TransClippingシェーダーで使用します。クリッピングマスクのグレースケールをアルファとして考慮しつつ、透過度を調整します。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">BaseMap</td><td style="border-top:none;border-left:none;width:272pt" width="362">基本色（明色）テクスチャを指定します。</td></tr><tr style="height:57.0pt"><td height="76" style="height:57.0pt;border-top:none">BaseColor</td><td style="border-top:none;border-left:none;width:272pt" width="362">BaseMapに乗算されるカラーです。テクスチャを指定せず、カラーのみの指定の場合、こちらを基本色（明色）設定として使います。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">Is_LightColor_Base</td><td style="border-top:none;border-left:none;width:272pt" width="362">基本色に対しライトカラーを有効にします。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">1st_ShadeMap</td><td style="border-top:none;border-left:none;width:272pt" width="362">１影テクスチャを指定します。</td></tr><tr style="height:42.75pt"><td height="57" style="height:42.75pt;border-top:none">1st_ShadeColor</td><td style="border-top:none;border-left:none;width:272pt" width="362">1st_ShaderMapに乗算されるカラーです。テクスチャを指定せず、カラーのみの指定の場合、こちらを１影設定として使います。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">Is_LightColor_<font>1st_Shade</font></td><td style="border-top:none;border-left:none;width:272pt" width="362">１影に対しライトカラーを有効にします。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">2nd_ShadeMap</td><td style="border-top:none;border-left:none;width:272pt" width="362">２影テクスチャを指定します。</td></tr><tr style="height:42.75pt"><td height="57" style="height:42.75pt;border-top:none">2nd_ShadeColor</td><td style="border-top:none;border-left:none;width:272pt" width="362">2nd_ShaderMapに乗算されるカラーです。テクスチャを指定せず、カラーのみの指定の場合、こちらを２影設定として使います。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">Is_LightColor_<font>2nd_Shade</font></td><td style="border-top:none;border-left:none;width:272pt" width="362">２影に対しライトカラーを有効にします。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">NormalMap</td><td style="border-top:none;border-left:none;width:272pt" width="362">ノーマルマップを指定します。</td></tr><tr style="height:57.0pt"><td height="76" style="height:57.0pt;border-top:none">Is_NormalMapToBase</td><td style="border-top:none;border-left:none;width:272pt" width="362">ノーマルマップをカラーに反映させる時にチェックします。チェックをしないとオブジェクトのジオメトリそのものの形状が反映されます。</td></tr><tr style="height:71.25pt"><td height="95" style="height:71.25pt;border-top:none">Set_SystemShadowsToBase</td><td style="border-top:none;border-left:none;width:272pt" width="362">Unityのシャドウシステムを使う場合に指定します。ReceiveShadowを使いたい場合には、必ずチェックします。（同時にMesh Renderer側のReceiveShadowもチェックされている必要があります。）</td></tr><tr style="height:128.25pt"><td height="171" style="height:128.25pt;border-top:none">Tweak_SystemShadowsLevel</td><td style="border-top:none;border-left:none;width:272pt" width="362">Set_SystemShadowsToBaseがONの時に有効になる調整項目です。Unityのシステムシャドウのレベル調整をします。デフォルトは0で、±0.5の範囲で調整が可能です。<br/>
BaseColor_Step/1st_ShadeColor_Stepで塗り分けレベルを決定した後で、さらに微調整をしたい時や、セルフシャドウ等のReceiveShadowの出方を微調整したい時に使用します。</td></tr><tr style="height:28.5pt"><td height="38" style="height:28.5pt;border-top:none">BaseColor_Step</td><td style="border-top:none;border-left:none;width:272pt" width="362">基本色（明色）と影色の塗り分け段階を設定します。</td></tr><tr style="height:28.5pt"><td height="38" style="height:28.5pt;border-top:none">Base/Shade_Feather</td><td style="border-top:none;border-left:none;width:272pt" width="362">基本色(明色）と影色の境界をぼかします。</td></tr><tr style="height:57.0pt"><td height="76" style="height:57.0pt;border-top:none">Set_1st_ShadePosition</td><td style="border-top:none;border-left:none;width:272pt" width="362">ライティングに関係なく、１影の位置を強制的に指定したい場合、ポジションマップを割り当てます。必ず影を落としたい部分を黒で指定します。</td></tr><tr style="height:42.75pt"><td height="57" style="height:42.75pt;border-top:none">ShadeColor_Step</td><td style="border-top:none;border-left:none;width:272pt" width="362">影色領域より１影と２影の塗り分け段階を設定します。<br/>
２影を使用しない場合には、ゼロにしてください。</td></tr><tr style="height:28.5pt"><td height="38" style="height:28.5pt;border-top:none">1st/2nd_Shades_Feather</td><td style="border-top:none;border-left:none;width:272pt" width="362">１影と２影の境界をぼかします。</td></tr><tr style="height:71.25pt"><td height="95" style="height:71.25pt;border-top:none">Set_2nd_ShadePosition</td><td style="border-top:none;border-left:none;width:272pt" width="362">ライティングに関係なく、２影の位置を強制的に指定したい場合、ポジションマップを割り当てます。必ず影を落としたい部分を黒で指定します。(１影のポジションマップにも影響を受けます）</td></tr><tr style="height:71.25pt"><td height="95" style="height:71.25pt;border-top:none">HighColor</td><td style="border-top:none;border-left:none;width:272pt" width="362">ハイカラー指定するカラーを指定します。使用しない場合には黒を設定してください。なおハイカラーは後で説明するポジションマップで位置指定をしない限り、光源の方向によって移動します。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">Is_LightColor_<font>HighColor</font></td><td style="border-top:none;border-left:none;width:272pt" width="362">ハイカラーに対しライトカラーを有効にします。</td></tr><tr style="height:57.0pt"><td height="76" style="height:57.0pt;border-top:none">Is_NormalMapToHighColor</td><td style="border-top:none;border-left:none;width:272pt" width="362">ノーマルマップをハイカラー領域に反映させる時にチェックします。チェックをしないとオブジェクトのジオメトリそのものの形状が反映されます。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">HighColor_Power</td><td style="border-top:none;border-left:none;width:272pt" width="362">ハイカラーの強さを設定します。</td></tr><tr style="height:42.75pt"><td height="57" style="height:42.75pt;border-top:none">Is_SpecularToHighColor</td><td style="border-top:none;border-left:none;width:272pt" width="362">ハイカラー領域をスペキュラ（グロッシイ光沢）として描画します。チェックを外すとハイカラー領域の境界を円形で描画します。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">Is_BlendAddToHiColor</td><td style="border-top:none;border-left:none;width:272pt" width="362">ハイカラーを加算合成します。</td></tr><tr style="height:28.5pt"><td height="38" style="height:28.5pt;border-top:none">Is_UseTweakHighColorOnShadow</td><td style="border-top:none;border-left:none;width:272pt" width="362">TweakHighColorOnShadowスライダーを有効にします。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">TweakHighColorOnShadow</td><td style="border-top:none;border-left:none;width:272pt" width="362">影部分にかかるハイカラー領域の強さを調整します。</td></tr><tr style="height:71.25pt"><td height="95" style="height:71.25pt;border-top:none">Set_HighColorMask</td><td style="border-top:none;border-left:none;width:272pt" width="362">UV座標に基づきハイカラーをマスクします。白で100%表示、黒でハイカラーを表示しません。<br/>
必要がない場合、設定しなくても大丈夫です。</td></tr><tr style="height:28.5pt"><td height="38" style="height:28.5pt;border-top:none">Tweak_HighColorMaskLevel</td><td style="border-top:none;border-left:none;width:272pt" width="362">ハイカラーマスクのレベル補正をします。デフォルト値は0です。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">RimLight</td><td style="border-top:none;border-left:none;width:272pt" width="362">リムライトを有効にします。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">RimLightColor</td><td style="border-top:none;border-left:none;width:272pt" width="362">リムライトのカラーを指定します。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">Is_LightColor_<font>RimColor</font></td><td style="border-top:none;border-left:none;width:272pt" width="362">リムカラーに対しライトカラーを有効にします。</td></tr><tr style="height:57.0pt"><td height="76" style="height:57.0pt;border-top:none">Is_NormalMapToRimLight</td><td style="border-top:none;border-left:none;width:272pt" width="362">ノーマルマップをリムライトに反映させる時にチェックします。チェックをしないとオブジェクトのジオメトリそのものの形状が反映されます。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">RimLight_Power</td><td style="border-top:none;border-left:none;width:272pt" width="362">リムライトの強さを指定します。</td></tr><tr style="height:28.5pt"><td height="38" style="height:28.5pt;border-top:none">R<font>imLight_InsideMask</font></td><td style="border-top:none;border-left:none;width:272pt" width="362">リムライトの内側マスクの強度を指定します。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">R<font>imLight_FeatherOff</font></td><td style="border-top:none;border-left:none;width:272pt" width="362">リムライトのぼかしをカットします。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">LightDirection_MaskOn</td><td style="border-top:none;border-left:none;width:272pt" width="362">光源方向にのみリムライトを発生します。</td></tr><tr style="height:28.5pt"><td height="38" style="height:28.5pt;border-top:none">Tweak_LightDirection_MaskLevel</td><td style="border-top:none;border-left:none;width:272pt" width="362">光源方向リムマスクのレベル調整をします。</td></tr><tr style="height:28.5pt"><td height="38" style="height:28.5pt;border-top:none">Add_Antipodean_RimLight</td><td style="border-top:none;border-left:none;width:272pt" width="362">光源方向の正反対の位置にリムライト（APリムライト）を発生します。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">Ap_RimLightColor</td><td style="border-top:none;border-left:none;width:272pt" width="362">APリムライトのカラーを指定します。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">Is_LightColor_Ap_RimLight</td><td style="border-top:none;border-left:none;width:272pt" width="362">APリムカラーに対しライトカラーを有効にします。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">Ap_RimLight_Power</td><td style="border-top:none;border-left:none;width:272pt" width="362">APリムライトの強さを指定します。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">Ap_RimLight_FeatherOff</td><td style="border-top:none;border-left:none;width:272pt" width="362">APリムライトのぼかしをカットします。</td></tr><tr style="height:71.25pt"><td height="95" style="height:71.25pt;border-top:none">Set_RimLightMask</td><td style="border-top:none;border-left:none;width:272pt" width="362">UV座標に基づきリムライトをマスクします。白で100%表示、黒でリムライトを表示しません。<br/>
必要がない場合、設定しなくても大丈夫です。</td></tr><tr style="height:28.5pt"><td height="38" style="height:28.5pt;border-top:none">Tweak_RimLightMaskLevel</td><td style="border-top:none;border-left:none;width:272pt" width="362">リムライトマスクのレベル補正をします。デフォルト値は0です。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">MatCap</td><td style="border-top:none;border-left:none;width:272pt" width="362">MatCapを有効にします。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">MatCap_Sampler</td><td style="border-top:none;border-left:none;width:272pt" width="362">MatCapとして使用するテクスチャを設定します。</td></tr><tr style="height:57.0pt"><td height="76" style="height:57.0pt;border-top:none">MatCapColor</td><td style="border-top:none;border-left:none;width:272pt" width="362">MatCap_Samplerに乗算されるカラーです。<br/>
MatCap_Sampler側にグレースケール画像を設定した場合、MatCapColorでMatCapにカラーを乗せることができます。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">Is_LightColor_<font>MatCap</font></td><td style="border-top:none;border-left:none;width:272pt" width="362">MatCapに対しライトカラーを有効にします。</td></tr><tr style="height:57.0pt"><td height="76" style="height:57.0pt;border-top:none">Is_BlendAddToMatCap</td><td style="border-top:none;border-left:none;width:272pt" width="362">チェックするとMatCapのブレンドが加算モードになります。チェックしない場合には乗算モードで合成されます。</td></tr><tr style="height:42.75pt"><td height="57" style="height:42.75pt;border-top:none">Tweak_MatCapUV</td><td style="border-top:none;border-left:none;width:272pt" width="362">MatCap_SamplerのUVを中央から円形に拡縮することで、MatCapの領域調整ができます。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">Rotate_MatCapUV</td><td style="border-top:none;border-left:none;width:272pt" width="362">MatCap_SamplerのUVを中央を軸に回転します。</td></tr><tr style="height:42.75pt"><td height="57" style="height:42.75pt;border-top:none">Is_NormalMapForMatCap</td><td style="border-top:none;border-left:none;width:272pt" width="362">MatCapにMatCap専用ノーマルマップを割り当てます。MatCapをスペキュラ的に使っている場合には、スペキュラマスクとして使用できます。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">NormalMapForMatCap</td><td style="border-top:none;border-left:none;width:272pt" width="362">MatCap専用ノーマルマップを設定します。</td></tr><tr style="height:28.5pt"><td height="38" style="height:28.5pt;border-top:none">Rotate_NormalMapForMatCapUV</td><td style="border-top:none;border-left:none;width:272pt" width="362">MatCap専用ノーマルマップのUVを中央を軸に回転します。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">Is_UseTweakMatCapOnShadow</td><td style="border-top:none;border-left:none;width:272pt" width="362">Tweak MatCapOnShadowスライダーを有効にします。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">Tweak MatCapOnShadow</td><td style="border-top:none;border-left:none;width:272pt" width="362">影部分にかかるMatCap領域の強さを調整します。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">Outline_Width</td><td style="border-top:none;border-left:none;width:272pt" width="362">アウトラインの幅を設定します。</td></tr><tr style="height:57.0pt"><td height="76" style="height:57.0pt;border-top:none">Farthest_Distance</td><td style="border-top:none;border-left:none;width:272pt" width="362">カメラとオブジェクトの距離でアウトラインの幅が変化する、最遠距離を指定します。この距離でアウトラインがゼロになります。</td></tr><tr style="height:71.25pt"><td height="95" style="height:71.25pt;border-top:none">Nearest_Distance</td><td style="border-top:none;border-left:none;width:272pt" width="362">カメラとオブジェクトの距離でアウトラインの幅が変化する、最近距離を指定します。この距離でアウトラインがOutline_Width等で設定した最大の幅になります。</td></tr><tr style="height:114.0pt"><td height="152" style="height:114.0pt;border-top:none">Outline_Sampler</td><td style="border-top:none;border-left:none;width:272pt" width="362">アウトラインの幅に入り抜きを入れたい場合や特定のパーツにのみアウトラインを乗せたくない場合などにアウトラインサンプラー（テクスチャ）で指定します。白で最大幅、黒で最小幅になります。<br/>
必要がない場合、設定しなくても大丈夫です。</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt;border-top:none">Outline_Color</td><td style="border-top:none;border-left:none;width:272pt" width="362">アウトラインのカラーを指定します。</td></tr><tr style="height:28.5pt"><td height="38" style="height:28.5pt;border-top:none">Is_BlendBaseColor</td><td style="border-top:none;border-left:none;width:272pt" width="362">オブジェクトの基本カラーにアウトラインのカラーを馴染ませたい場合に、チェックします。</td></tr><tr style="height:71.25pt"><td height="95" style="height:71.25pt;border-top:none">Offset_Camera_Z</td><td style="border-top:none;border-left:none;width:272pt" width="362">アウトラインをカメラの奥行き方向（Ｚ方向）にオフセットします。スパイク形状の髪型などの場合、プラスの値を入れることでスパイク部分にはアウトラインがかかりにくくなります。<br/>
通常は０を入れておいてください。</td></tr><tr style="height:71.25pt"><td height="95" style="height:71.25pt;border-top:none">G<font>I_Intensity</font></td><td style="border-top:none;border-left:none;width:272pt" width="362">シェーダープロパティ GI_Intensity を０以上に設定することで、UnityのLightingウィンドウ内で管理されているGIシステムに対応します。<br/>
_GI_Intensityが１の時、GIの強度が100％となります。</td></tr></tbody></table></div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 24px; font-weight: bold;">【リムライトの機能強化について】</span><span style="font-size: 24px; font-weight: bold; color: rgb(255, 70, 53);">[New! / 2.0.2]</span></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/0609-04_11.jpg" type="image/png" style="height: auto;"/><br/></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/0609-04_02.jpg" type="image/png" style="height: auto;"/><br/></div><div><span style="font-size: 16px;">リムライトに光源方向マスクを追加しました。マスクを利用することで、光源方向とその反対とで、リムライトのカラーを個別指定できるようになりました。</span></div><div><span style="font-size: 16px;">もし光源方向のリムライトもカットして、光源方向の反対のみにリムライトを発生したい場合には、光源方向のリムライトのカラーを黒（0,0,0）に指定してください。</span></div><div><br/></div><div><br/></div><div><span style="font-weight: bold; font-size: 24px;">【ステンシルによるマテリアルの透過の仕方】</span></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/1230-11_10.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><br/></div><div><span style="font-weight: bold; font-size: 24px;">【クリッピングマスクを使った複数マテリアルの割り当て】</span></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/1230-11_11.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><span style="font-size: 16px;">_Clippingシェーダーで複数のマテリアルを同じメッシュに割り当てる時には、Skinned Mesh RendererのMaterialsのサイズを必要な数に設定し、各Elementに設定します。</span></div><div><br/></div><div><span style="font-weight: bold; font-size: 24px;">【_TransClipping系シェーダーについて】</span></div><div><span style="font-size: 16px;">_TransClipping系シェーダーは、_Clipping系シェーダーと主な機能は同じですが、クリッピングマスクのグレースケールを元にアルファを考慮します。</span></div><div><span style="font-size: 16px;">短冊状の毛の房の先端をアルファを考慮しつつマスクで抜く場合や、アホ毛などの表現に使います。</span></div><div><span style="font-size: 16px;">Tweak_transparencyスライダーで透過度合いを調整できます。</span></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/0102-04_02.jpg" type="image/png" style="height: auto;"/><br/></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/0102-06_02.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 21px; font-weight: bold;">【MatCap用テクスチャの貼り方のTips】</span></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/1230-11_15.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 24px; font-weight: bold;">【アウトラインサンプラーに使用するテクスチャについて】</span></div><div><span style="font-size: 16px;">黒でラインなし、白でラインの幅が100%になります。</span></div><div><span style="font-size: 16px;">適宜アウトラインサンプラーを設定することで、アウトラインに入り抜き（強弱）が発生します。</span></div><div><span style="font-size: 16px;">アウトラインサンプラーは、キャラごとにある程度パーツのUVを共通化することで、汎用的に入り抜きの制御ができるようになります。</span></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/0906-18_01.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 24px; font-weight: bold;">【必ず影やハイカラーを落としたい部分を指定するポジションマップ（旧：setKageテクスチャ）について】</span></div><div><span style="font-size: 16px;">ライティングと関係なく影やハイカラーを落としたい部分をポジションマップ(旧：setKageテクスチャ）で指定できます。</span></div><div><span style="font-size: 16px;">各シーンごとの特殊な影や、演出上追加したい影などがある場合、ライティングに加えて追加できます。</span></div><div><span style="font-size: 16px;">※ヒント：3Dペインターを使って、影位置を直接作画してしまうのがいいかも？</span></div><div><br/></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/0906-18_03.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-weight: bold; font-size: 24px;">【１影と２影の各ポジションマップの相互作用について】</span></div><div><span style="font-size: 16px;">ライトや影の状態に関係なく常に２影を表示したい場所は、１影のポジションマップと２影のポジションマップを重ねて指定する。</span></div><div><span style="font-size: 16px;">常に２影が表示されている領域は、影の中でも常に２影が表示される領域になる。</span></div><div><span style="font-size: 16px;">一方、明るいところでは２影が表示されない領域（２影のポジションマップでは指定されているが、１影のポジションマップ外になっている領域）は、影の中に入った時のみ２影が表示される。</span></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/0102-22_03.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-weight: bold; font-size: 24px;">【Toon_ShadingGradeMap.shaderについて】</span></div><div><span style="font-size: 16px;">ユニティちゃんトゥーンシェーダーVer.2.0の標準シェーダーは、Toon_DoubleShadeWithFeather.shaderという系統になりますが、その標準シェーダーの機能を元にShading Grade Mapというマップを使うことで、さらに影の掛かり方をUV座標単位で制御できるように拡張したシェーダーが、</span><span style="font-size: 16px; font-weight: bold;">Toon_ShadingGradeMap</span><span style="font-size: 16px;">系統のシェーダーです。</span></div><div><br/></div><div><span style="color: rgb(29, 33, 41); font-family: Helvetica, Arial, 'hiragino kaku gothic pro', meiryo, 'ms pgothic', sans-serif; font-size: 16px;">通常のトゥーンシェーダーにShading Grade Map（シェーディングの掛かり方傾斜マップ）を足すことで、UV単位で１影および２影の掛かりやすさを制御できます。</span></div><div style="text-align: start;"><span style="color: rgb(29, 33, 41); font-family: Helvetica, Arial, 'hiragino kaku gothic pro', meiryo, 'ms pgothic', sans-serif; background-color: rgb(255, 255, 255); font-size: 16px;">このマップを使うことで、部分的に影の出やすさを調整できるので、「ライトに照らされている時にはでない服のしわ」みたいな表現が可能となります。</span></div><div style="text-align: start;"><span style="font-family: Helvetica, Arial, 'hiragino kaku gothic pro', meiryo, 'ms pgothic', sans-serif; color: rgb(29, 33, 41); font-size: 16px;">画像の例では、Shading Grade Map上の黒部分が２影になり、グレー部分がその濃度によって影の掛かり方が変わります。</span></div><div style="text-align: start;"><span style="font-family: Helvetica, Arial, 'hiragino kaku gothic pro', meiryo, 'ms pgothic', sans-serif; color: rgb(29, 33, 41); font-size: 16px;">グレー濃度が強いほうが影がかかりやすいので、二つのグレーの境界間にも影が発生します。</span></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><span style="font-size: 16px; font-family: Helvetica, Arial, 'hiragino kaku gothic pro', meiryo, 'ms pgothic', sans-serif; color: rgb(29, 33, 41);">AmbientOcclusionマップなどの遮蔽マップからShadingGradeマップを作ると、ライティングに対してより影をかかりやすくすることができる他、前</span><span style="font-size: 16px; font-family: Helvetica, Arial, 'hiragino kaku gothic pro', meiryo, 'ms pgothic', sans-serif; color: rgb(29, 33, 41);">髪の形状に沿った影とか、服のしわの凹部分とかに使うとよいでしょう。</span></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><span style="font-size: 16px; font-family: Helvetica, Arial, 'hiragino kaku gothic pro', meiryo, 'ms pgothic', sans-serif; color: rgb(29, 33, 41);">なお本シェーダーには、１影および２影のポジションマップのオプションはありません。</span></div><div style="text-align: start;"><span style="font-size: 16px; font-family: Helvetica, Arial, 'hiragino kaku gothic pro', meiryo, 'ms pgothic', sans-serif; color: rgb(29, 33, 41);">また以下のプロパティが追加されます。（同名のプロパティの機能は、標準シェーダーと同じです。）</span></div><div style="text-align: start;"><br/></div><table cellpadding="0" style="border-collapse: collapse; table-layout: fixed;width:580px;" width="580"><tbody><tr style="height:14.25pt"><td height="19" style="border: 1px solid rgb(0, 0, 0); padding: 10px; margin: 0px; min-width: 37.24137931034483%;width:37.24137931034483%;" width="217"><div><span style="font-size: 13px; font-weight: bold;">プロパティ名</span></div></td><td style="border: 1px solid rgb(0, 0, 0); padding: 10px; margin: 0px; min-width: 62.58620689655172%;width:62.58620689655172%;" width="363"><div><span style="font-size: 13px; font-weight: bold;">機能</span></div></td></tr><tr style="height:14.25pt"><td height="19" style="border: 1px solid rgb(0, 0, 0); padding: 10px; margin: 0px;"><div><span style="font-size: 13px;">ShadingGradeMap</span></div></td><td style="border: 1px solid rgb(0, 0, 0); padding: 10px; margin: 0px;"><div><span style="font-size: 13px;">Shading Grade Mapをグレースケールで指定します。</span></div></td></tr><tr style="height:14.25pt"><td height="19" style="border: 1px solid rgb(0, 0, 0); padding: 10px; margin: 0px;"><div><span style="font-size: 13px;">Is_1st_ShadeColorOnly</span></div></td><td style="border: 1px solid rgb(0, 0, 0); padding: 10px; margin: 0px;"><div><span style="font-size: 13px;">１影のみを使用する場合にチェックします。</span></div></td></tr><tr style="height:14.25pt"><td height="19" style="border: 1px solid rgb(0, 0, 0); padding: 10px; margin: 0px;"><div><span style="font-size: 13px;">1st_ShadeColor_Step</span></div></td><td style="width: 272pt; border: 1px solid rgb(0, 0, 0); padding: 10px; margin: 0px; min-width: 272pt;" width="363"><div><span style="font-size: 13px;">基本色（明色）と１影の塗り分け段階を設定します。</span></div></td></tr><tr style="height:14.25pt"><td height="19" style="border: 1px solid rgb(0, 0, 0); padding: 10px; margin: 0px;"><div><span style="font-size: 13px;">1st_ShadeColor_Feather</span></div></td><td style="width: 272pt; border: 1px solid rgb(0, 0, 0); padding: 10px; margin: 0px; min-width: 272pt;" width="363"><div><span style="font-size: 13px;">基本色(明色）と１影の境界をぼかします。</span></div></td></tr><tr style="height:14.25pt"><td height="19" style="border: 1px solid rgb(0, 0, 0); padding: 10px; margin: 0px;"><div><span style="font-size: 13px;">2nd_ShadeColor_Step</span></div></td><td style="width: 272pt; border: 1px solid rgb(0, 0, 0); padding: 10px; margin: 0px; min-width: 272pt;" width="363"><div><span style="font-size: 13px;">１影と２影の塗り分け段階を設定します。</span></div></td></tr><tr style="height:14.25pt"><td height="19" style="border: 1px solid rgb(0, 0, 0); padding: 10px; margin: 0px;"><div><span style="font-size: 13px;">2nd_ShadeColor_Feather</span></div></td><td style="width: 272pt; border: 1px solid rgb(0, 0, 0); padding: 10px; margin: 0px; min-width: 272pt;" width="363"><div><span style="font-size: 13px;">１影と２影の境界をぼかします。</span></div></td></tr></tbody></table><div><br/></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/0122-06_04.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/UI_ShadingGradeMap.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-weight: bold; font-size: 24px;">【GIシステム対応について】</span></div><div><span style="font-size: 16px;">シェーダープロパティ GI_Intensity を０以上に設定することで、UnityのLightingウィンドウ内で管理されているGIシステムに対応します。</span></div><div><span style="font-size: 16px;">GI_Intensityが１の時、GIの強度が100％となります。</span></div><div><span style="font-size: 16px;">GI</span><span style="font-size: 16px;">（グローバルイルミネーション）</span> <span style="font-size: 16px;">は、環境ライトとしてトゥーンカラーにブレンド（Screen）されます。</span></div><div><span style="font-size: 16px;">GIの光源としては、ベイクされたLight Probeの他、UnityのLightingウィンドウ内 の「Ambient Source」よりSkybox、Gradient、Colorが使えます。</span></div><div><br/></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/0201-11_05.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><span style="font-size: 16px;">もし</span><span style="font-size: 16px; font-weight: bold;">GIと関係なく、トゥーンカラーをそのまま表示したい場合</span><span style="font-size: 16px;">には、</span><span style="font-size: 16px; font-weight: bold;">以下のいずれかに設定</span><span style="font-size: 16px;">します。</span></div><div><br/></div><ul><li><span style="font-size: 16px;">GI_Intensityを０に設定する</span></li><li><span style="font-size: 16px;">UnityのLightingウィンドウ内のAmbient Intensityを０にする</span></li><li><span style="font-size: 16px;">UnityのLightingウィンドウ内の</span><span style="font-size: 16px;">Ambient SourceをColorにして、黒（RGB=0/0/0）を設定する。</span></li></ul><div><br/></div><div><br/></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/0201-11_01.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><br/></div><div><span style="font-weight: bold; font-size: 24px;">【Offset_Camera_Zについて】</span></div><div><span style="font-size: 16px;">Offset_Camera_Zにプラスの値を入れることで、アウトラインがカメラの奥行き方向（Ｚ方向）にオフセットされます。</span></div><div><span style="font-size: 16px;">下の図のようなスパイク形状の髪型の場合に、スパイク部分のアウトラインの出方を調整するのに使用します。</span></div><div><span style="font-size: 16px;">通常は０を入れておいてください。</span></div><div><br/></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/0205-11_01.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><br/></div><div><span style="font-weight: bold; font-size: 24px;">【「天使の輪」機能について】</span></div><div><span style="font-size: 16px;">UnityChanToonShader/AngelRingもしくはUnityChanToonShader/NoOutline/AngelRing</span><span style="font-size: 16px;">内には、</span></div><div><span style="font-size: 16px;">「天使の輪」機能に対応したシェーダーがいくつか入っています。</span></div><div><br/></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/AR_Postion.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><span style="font-size: 16px;">「天使の輪」とは、下図のようなハイライト表現のことです。カメラから見て常に固定の位置に現れます。</span></div><div><span style="font-size: 16px;">この機能を利用するためには、適用する髪の毛のメッシュに、通常のテクスチャ用のUVの他に、「天使の輪」ハイライト用に２枚目のUVが必要です。</span></div><div><br/></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/AR_Image.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><span style="font-size: 16px;">「天使の輪」用のUVは、通常の髪用テクスチャのUVとは別に、「天使の輪」を適用する髪全体をキャラの正面方向から平面投影して作成します。</span></div><div><br/></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/HairModel.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><span style="font-size: 16px;">「天使の輪」用UVをガイドに、ハイライト部分のテクスチャを描きます。ハイライト部分のカラーは元のカラーに加算で合成されます。</span></div><div><span style="font-size: 16px;">作成したテクスチャは、AngelRing_Samplerに登録します。</span></div><div><span style="font-size: 16px;">ハイライトは白で描いて、後でAngelRing_Colorで色を載せてもよいでしょう。</span></div><div><br/></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/Hair_UV1.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><span style="font-size: 16px;">「天使の輪」機能のプロパティは以下の通りです。</span></div><div><br/></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/0609-04_12.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><table cellpadding="0" style="border-collapse: collapse; table-layout: fixed;width:601px;" width="600"><tbody><tr style="height:14.25pt"><td height="19" style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px; min-width: 39.43427620632279%;width:39.60066555740433%;" width="238"><div>プロパティ名</div></td><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px; min-width: 60.39933444259567%;width:60.232945091514146%;" width="362"><div>機能</div></td></tr><tr style="height:14.25pt"><td height="19" style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>AngelRing</div></td><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>「天使の輪」機能を有効にします。</div></td></tr><tr style="height:14.25pt"><td height="19" style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>AngelRing_Sampler</div></td><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>「天使の輪」テクスチャを指定します。</div></td></tr><tr style="height:14.25pt"><td height="19" style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>AngelRing_Color</div></td><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>「天使の輪」に乗算するカラーを指定します。</div></td></tr><tr style="height:28.5pt"><td height="38" style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>AR_OffsetU</div></td><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>「天使の輪」表示を縦方向に微調整します。</div></td></tr><tr style="height:28.5pt"><td height="38" style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>AR_OffsetV</div></td><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>「天使の輪」表示を横方向に微調整します。</div></td></tr><tr style="height:14.25pt"><td height="19" style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>Is_LightColor_AR</div></td><td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>「天使の輪」に対しライトカラーを有効にします。</div></td></tr><tr style="mso-height-source:userset;height:48.0pt"><td height="64" style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;"><div>ARSampler_AlphaOn</div></td><td style="border: 1px solid rgb(219, 219, 219); width: 272pt; padding: 10px; margin: 0px; min-width: 272pt;" width="362"><div>チェックすることで、「天使の輪」テクスチャに含まれるαチャンネルをクリッピングマスクとして利用できます。</div></td></tr></tbody></table><div><br/></div><div><span style="font-size: 24px; font-weight: bold; color: rgb(255, 70, 53);">[New! / 2.0.2]</span></div><div><span style="font-size: 16px;">ARSampler_AlphaOnをチェックすると、下の図のように「天使の輪」テクスチャのαチャンネルがクリッピングマスクとして利用できるようになります。</span></div><div><span style="font-size: 16px;">「天使の輪」のカラーを加算でなく、直接指定できるようになります。</span></div><div><br/></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/0609-04_13.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-weight: bold; font-size: 24px;">【各カラーへのライトカラーの有効チェックボタンについて】</span></div><div><span style="font-size: 16px;">Is_LightColor_Baseなどの、</span><span style="font-size: 16px;">Is_LightColor_カラー名が付いているチェックボタンは、メインとなる</span><span style="font-size: 16px; font-weight: bold;">ディレクショナルライトのライトカラー</span><span style="font-size: 16px;">を、</span></div><div><span style="font-size: 16px;">各カラーに対し影響させるかどうか切り替えるボタンになっています。</span></div><div><br/></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/Check.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><span style="font-size: 16px;">各カラーのいずれにライトカラーを影響させるかを変更することで、さらに複雑なライティングが可能となります。</span></div><div><span style="font-size: 16px;">下の例は、影色のカラーにだけ赤いライトカラーを影響させた例です。</span></div><div><span style="font-size: 16px;">カメラ側にある扉が開くと、扉の向こうから漏れてきた赤い光にユニティちゃんが照らされます。</span></div><div><br/></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/BoxProjection.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><br/></div><div><span style="font-weight: bold; font-size: 24px;">【ライトリンキングについて】</span></div><div><span style="font-size: 16px;">セル風ルックの場合、さらに細かくパーツごとにディレクショナルライトを使い分けることでパーツ毎のライティングを微調整する（ライトリンキングをする）ことがあります。</span></div><div><span style="font-size: 16px;">ライトリンキングをUnity上で行う場合には、必要な数のレイヤーを準備することで各パーツ毎に当たるライトを変えることができます。</span></div><div><span style="font-size: 16px;">以下にライトリンキングの例を示します</span></div><div><span style="font-size: 16px;">この例では、Directional Light_MainLightは、レイヤーMainLightに属するメッシュしか照らさなくなります。</span></div><div><span style="font-size: 16px;">ライトリンキングを使うと、設定によってはレシーブシャドウなどが効かなくなることもありますので、注意して行ってください。</span></div><div><span style="font-size: 16px;">なおゲーム等の使用の場合には、このライトリンキングはほぼ必要ありません。主に映像向けの設定です。</span></div><div><br/></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/0801-12_05.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><span style="font-weight: bold; font-size: 24px;">【映像（プリレンダー）での使用】</span></div><div><span style="font-size: 16px;">プリレンダーで使用する場合には、イメージエフェクト側につけているAnti Aliasingは外して、フレームキャプチャで4K出力をしたものを使用サイズに縮小して使うほうが綺麗な可能性が高いです（事実上のスーパーサンプリング）。</span></div><div><br/></div><div><span style="font-size: 16px;">フレームキャプチャは以下で提供されています。</span></div><div><a href="https://github.com/unity3d-jp/FrameCapturer" style="font-size: 16px;">https://github.com/unity3d-jp/FrameCapturer</a></div><div><span style="font-size: 16px;">フレームキャプチャの出力結果は、NUKEやAfterEffectsで利用できます。</span></div><div><br/></div><div><span style="font-size: 16px;">他、Alembic Importer/Exporterがあるので、映像用にはこちらも使うとよいでしょう。</span></div><div><a href="https://github.com/unity3d-jp/AlembicImporter" style="font-size: 16px;">https://github.com/unity3d-jp/AlembicImporter</a></div><div><br/></div><div><br/></div><div><span style="font-weight: bold; font-size: 24px;">【モバイルでの使用】</span><span style="font-size: 24px; font-weight: bold; color: rgb(255, 70, 53);">[New! / 2.0.2]</span></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/0609-05_01.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><span style="font-size: 16px;">モバイル向けに、ほぼルックが変わらない程度に軽量化したバージョンを追加しました。</span></div><div><span style="font-size: 16px;">モバイル版では、以下の仕様に制限しています。</span></div><div><br/></div><ul><li>ディレクショナルライト１灯のみの対応に制限しています（リアルタイムポイントライトには反応しません）。</li><li><span style="font-size: 16px;">クリッピング系、トランスクリッピング系のシェーダーは、レンダリング負荷が高いため搭載していません。</span></li><li><span style="font-size: 16px;">Matcap用テクスチャの回転やMatcap用ノーマルマップは、</span><span style="font-size: 16px;">レンダリング</span> <span style="font-size: 16px;">負荷が高いためカットしました。</span></li></ul><div><br/></div><div><span style="font-size: 16px;">通常版のシェーダーとはプロパティ互換性がありますので、上記機能で十分な場合、通常版から切り替えるとレンダリングパフォーマンスが向上します。</span></div><div><br/></div><div><br/></div><div><span style="font-weight: bold; font-size: 24px;">【ライセンスについて】</span></div><div><span style="font-size: 16px;">「ユニティちゃんトゥーンシェーダーVer.2.0」は、UCL2.0（ユニティちゃんライセンス2.0）で提供されます。</span></div><div><span style="font-size: 16px;">ユニティちゃんライセンスについては、以下を参照してください。</span></div><div><a href="http://unity-chan.com/contents/guideline/" style="font-size: 16px;">http://unity-chan.com/contents/guideline/</a></div><div><br/></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/Light_Silhouette.jpg" type="image/jpeg" style="height: auto;"/><br/></div><div><br/></div><hr/><hr/><div><span style="font-size: 48px; font-weight: bold;">ユニティちゃんトゥーンシェーダー Ver.2.0 追加マニュアル</span></div><div><span style="font-size: 24px; font-weight: bold;">Unityのシステムシャドウとカスタムライティングとの境界に生じるアーティファクトの軽減について</span></div><div><br/></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/0105-22_01.jpg" type="image/png" style="height: auto;"/><br/></div><div><span style="font-size: 19px;">上図のような、Unityのシステムシャドウとカスタムライティングとの境界に生じるアーティファクトの軽減法を解説します</span></div><div><br/></div><div><br/></div><div><span style="font-size: 21px; font-weight: bold;">【１：リニアカラースペースに変更する】</span></div><div><span style="font-size: 19px;">現在のカラースペースが、ガンマカラースペースの場合には、まずリニアカラースペースに変更します。</span></div><div><span style="font-size: 19px;">リニアカラースペースのほうが、アーティファクトの階調変化は柔らかくなる傾向があります。</span></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/0105-22_01 [1].jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 21px; font-weight: bold;">【２：メッシュの分割度をあげる】</span></div><div><span style="font-size: 19px;">ライティングおよびシェーダーのパラメタが全て同じ条件だったら、メッシュの分割度を上げます。</span></div><div><span style="font-size: 19px;">メッシュの分割度をあげることで、これらのアーティファクトの多くは消失します。</span></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/0105-22_05.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 21px; font-weight: bold;">【３：BaseColor_Step/</span><span style="font-weight: bold; font-size: 19px;">Tweak_SystemShadowsLevel</span> <span style="font-size: 21px; font-weight: bold;">の調整でアーティファクトを消す】</span></div><div><span style="font-size: 19px;">図①の影の境界の位置では、Unityのシステムシャドウとカスタムライティングの閾値より作られる影が、ほぼ一致しています。</span></div><div><span style="font-size: 19px;">そのことは、この状態で  Set_SystemShadowsToBase  のチェックを外しても、影の境界位置が動かないことからわかります。</span></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/0105-22_04.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 19px;">図①のような状態の時に、Base/Shade_Feather スライダーを右に動かすと、アーティファクトが発生します（図②）。</span></div><div><span style="font-size: 19px;">これは、Unityのシステムシャドウの内側にカスタムライティングの影の閾値が食い込むために発生します。</span></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/0105-22_07.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><span style="font-size: 19px;">このような時には、図③のように BaseColor_Step スライダーも右に動かしてやることにより、カスタムライティングが作る影の領域を増やしてやります。</span></div><div><span style="font-size: 19px;">すると良い感じにアーティファクトも消失し、境界ぼかしが発生します。</span></div><div><span style="font-size: 19px; color: rgb(255, 70, 53);">[New!]</span><span style="font-size: 19px;">また同様に、Tweak_SystemShadowsLevel スライダーを使って、システムシャドウ側のレベル補正をすることで、アーティファクトを消すこともできます。</span></div><div><br/></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/0105-22_08.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 21px; font-weight: bold;">【４：ディレクショナルライトのバイアスを上げてやる】</span></div><div><span style="font-size: 19px;">最後に、キーライトとして球を照らしているディレクショナルライトのバイアスをあげてやるという方法があります。</span></div><div><span style="font-size: 19px;">バイアスを上げることで、システムシャドウの位置が変化するからです。</span></div><div><span style="font-size: 19px;">ただしバイアスを上げすぎると、今度は落ち影全体の発生位置がオブジェクトから大きくずれることも発生しますので、注意が必要です。</span></div><div><img src="UnityChanToonShaderVer2_Manual_ja_files/0105-23_02.jpg" type="image/png" style="height: auto;"/><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></span>
</div></body></html> 